[platformio]
default_envs = nano_new

[env]
platform = atmelavr
framework = arduino
monitor_speed = 115200
monitor_port = /dev/cu.usbserial-*
upload_port = /dev/cu.usbserial-*
monitor_filters = time, colorize
build_src_filter =
  +<*>
  -<sensors/tfmini_sensor.cpp>
build_flags =
  -D SERIAL_BAUD=115200
  -D CONTROL_HZ=50
  -D TELEMETRY_HZ=10
  -flto
  ; Optional sonar tuning overrides (see README "Sonar Filtering Tuning"):
  ; -D SONAR_TRIGGER_PERIOD_US=40000UL
  ; -D SONAR_ECHO_TIMEOUT_US=25000UL
  ; -D SONAR_POS_SAMPLE_FRESH_MS=200UL
  ; -D SONAR_MEDIAN_WINDOW=11
  ; -D SONAR_MIN_VALID_IN_WINDOW=1
  ; -D SONAR_MAX_VALID_MM=650.0f
  ; -D SONAR_EMA_ALPHA=0.6f
  ; Optional AS5600 tuning overrides (see README "AS5600 Filtering Tuning"):
  ; -D AS5600_EMA_ALPHA=0.3f
  ; -D AS5600_MAX_JUMP_DEG=25.0f

[env:nano_new]
board = nanoatmega328new
upload_speed = 115200

[env:nano_old]
board = nanoatmega328
upload_speed = 57600
